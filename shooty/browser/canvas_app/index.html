<!doctype html>
<html>
  <head>
    <title>Canvas Test</title>
    <script src="/opt/PalmSDK/0.1/share/framework/enyo/1.0/framework/enyo.js" type="text/javascript"></script>
    <script type="text/javascript">
      function init() {
        var can = document.getElementById('canvas');
        var ctx = can.getContext('2d');
        var img = new Image();
        img.src = "./bg.png";
        var lastTime = Date.now();
        setInterval(function() {
          ctx.drawImage(img, 0, 0);
          ctx.fillStyle = 'green'
          var t = Date.now()
          fps = Math.round(1000/(t-lastTime));
          ctx.font = "50px Arial";
          ctx.textAlign = 'right';
          lastTime = t
          ctx.fillText(fps, 60,50);
        }, 1000/100);
      }      
    </script>
  </head>
  <body onload="init();">
    <canvas id="canvas" width=1024 height=768></canvas>
  </body>
</html>
